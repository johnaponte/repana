<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Database configuration â€¢ repana</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Database configuration">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">repana</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/database.html">Database configuration</a></li>
    <li><a class="dropdown-item" href="../articles/reports.html">Creating reports</a></li>
    <li><a class="dropdown-item" href="../articles/structure.html">Repana Structure</a></li>
    <li><a class="dropdown-item" href="../articles/targets.html">Integration with Targets</a></li>
    <li><a class="dropdown-item" href="../articles/template.html">Modifying the template</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/johnaponte/repana/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Database configuration</h1>
                        <h4 data-toc-skip class="author">John J
Aponte</h4>
            
            <h4 data-toc-skip class="date">2024-01-21</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/johnaponte/repana/blob/master/vignettes/database.Rmd" class="external-link"><code>vignettes/database.Rmd</code></a></small>
      <div class="d-none name"><code>database.Rmd</code></div>
    </div>

    
    
<p>Repana package offers a simple methodology to keep definition of
database connection strings that works with a definition on the
<code>config.yml</code> file and the use of the function
<code><a href="../reference/get_con.html">get_con()</a></code> to be use in a DBI compliant database.</p>
<p>By default in <code>config.yml</code> offers an in-memory connection
to a duckdb database with the following parameters:</p>
<pre><code><span> <span class="va">defaultdb</span><span class="op">:</span></span>
<span>    <span class="va">package</span><span class="op">:</span> <span class="va">duckdb</span></span>
<span>    <span class="va">dbconnect</span><span class="op">:</span> <span class="va">duckdb</span></span>
<span>    <span class="va">read_only</span> <span class="op">:</span> <span class="cn">FALSE</span>     </span></code></pre>
<p>The first element indicates the name of the package where the
<code>dbconnect()</code> function is located, and the dbconnect
indicates the name of the function used to get the connection. The rest
of entries are parameters for the connection and they vary from database
to database.</p>
<p>If the user wants a more permanent database, should add the entry for
the parameter dbdir as for example:</p>
<pre><code> defaultdb:
    package: duckdb
    dbconnect: duckdb
    read_only : FALSE 
    dbdir: database\study.db</code></pre>
<p>Example to get connection to a <code>RSQLite</code> database</p>
<pre><code><span>  <span class="va">defaultdb</span><span class="op">:</span></span>
<span>    <span class="va">package</span><span class="op">:</span> <span class="va">RSQLite</span></span>
<span>    <span class="va">dbconnect</span><span class="op">:</span> <span class="va">SQLite</span></span>
<span>    <span class="va">dbname</span><span class="op">:</span> <span class="va">database</span><span class="op">/</span><span class="va">results.db</span></span></code></pre>
<p>Example to get a connection with a <code>RPostgres</code>
database</p>
<pre><code><span>  <span class="va">defaultdb</span><span class="op">:</span></span>
<span>    <span class="va">package</span><span class="op">:</span> <span class="va">RPostgres</span></span>
<span>    <span class="va">dbconnection</span><span class="op">:</span> <span class="va">Postgres</span></span>
<span>    <span class="va">dbname</span><span class="op">:</span> <span class="va">database</span></span>
<span>    <span class="va">host</span><span class="op">:</span> <span class="va">localhost</span></span>
<span>    <span class="va">port</span><span class="op">:</span> <span class="fl">5432</span></span>
<span>    <span class="va">user</span><span class="op">:</span> <span class="va">username</span></span>
<span>    <span class="va">password</span><span class="op">:</span> <span class="va">password</span></span></code></pre>
<p>By default, the <code><a href="../reference/get_con.html">get_con()</a></code> function reads the entry in
<code>defaultdb</code> but this other entries can be specified with the
parameter <code>configname</code> or even the file where the
configuration is saved with the parameter <code>file</code> if other
file rather than the <code>config.yml</code> is used.</p>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by John J. Aponte.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
