<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Repana Structure • repana</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Repana Structure">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">repana</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/database.html">Database configuration</a></li>
    <li><a class="dropdown-item" href="../articles/reports.html">Creating reports</a></li>
    <li><a class="dropdown-item" href="../articles/structure.html">Repana Structure</a></li>
    <li><a class="dropdown-item" href="../articles/targets.html">Integration with Targets</a></li>
    <li><a class="dropdown-item" href="../articles/template.html">Modifying the template</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/johnaponte/repana/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Repana Structure</h1>
                        <h4 data-toc-skip class="author">John J
Aponte</h4>
            
            <h4 data-toc-skip class="date">2024-01-21</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/johnaponte/repana/blob/master/vignettes/structure.Rmd" class="external-link"><code>vignettes/structure.Rmd</code></a></small>
      <div class="d-none name"><code>structure.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Repana is an opinionated framework, meaning that the project’s
structure must be predefined to determine where different types of files
are stored. The structure of <strong>repana</strong> is governed by the
<code>config.yml</code> file, and the
<code><a href="../reference/make_structure.html">repana::make_structure()</a></code> function aids in constructing the
directory layout. If no <code>config.yml</code> is present,
<code><a href="../reference/make_structure.html">make_structure()</a></code> generates one.</p>
</div>
<div class="section level2">
<h2 id="default-structure">Default structure<a class="anchor" aria-label="anchor" href="#default-structure"></a>
</h2>
<p>The default structure is established using the
<code><a href="../reference/make_structure.html">make_structure()</a></code> function, which creates a config.yml file
with predefined items for the Repana package.</p>
<pre><code>default:
  dirs:
    data: _data
    functions: _functions
    handmade: handmade
    database: database
    reports: reports
    logs: logs
  clean_before_new_analysis:
    - database
    - reports
    - logs
  defaultdb:
    package: duckdb
    dbconnect: duckdb
    read_only: FALSE
  template:
    _template.txt</code></pre>
<div class="section level3">
<h3 id="section-dirs">Section dirs:<a class="anchor" aria-label="anchor" href="#section-dirs"></a>
</h3>
<p>The <code>dirs</code> section defines the directories that the
structure should maintain. Each entry consists of a nickname for the
directory and its corresponding physical location. The
<code><a href="../reference/get_dirs.html">get_dirs()</a></code> function returns the physical location within
programs.</p>
<p>For example, using the default definition, get_dirs(“data”) returns
“_data”. This abstraction allows program logic to remain separate from
the actual physical directory names, enabling different users to use the
same programs without modification, even if the physical locations
differ.</p>
<p>By default, six directories are defined, each serving a specific
purpose:</p>
<div class="line-block">Entry | Purpose |</div>
<p>|—— —-|—————————————————————-| | data | Input data to the project | |
functions | Functions used in the project | | handmade | Files created
not using programs in the project | | database | Database and other
secondary files created by the project | | reports | Reports, graphs,
files and other output created by the project | | logs | Log of executed
files |</p>
<p>: Directories defined in config.yml</p>
<p>Note: The handmade directory is crucial for maintaining the spirit of
<em>reproducible analysis</em>. While all project output should ideally
stem from program actions on inputs, the handmade directory serves as a
space for files modified by hand or kept for reference.</p>
</div>
<div class="section level3">
<h3 id="section-clean_before_new_analysis">Section clean_before_new_analysis:<a class="anchor" aria-label="anchor" href="#section-clean_before_new_analysis"></a>
</h3>
<p>As mentioned earlier, the essence of <em>reproducible analysis</em>
involves being able to reproduce project outputs with the same inputs.
To ensure outputs are produced by a new analysis, it is recommended to
delete existing outputs before recreating them. The
<code>clean_before_new_analysis</code> section specifies the directories
deleted before a new analysis. The <code><a href="../reference/make_structure.html">make_structure()</a></code>
function updates the .gitignore file to exclude these directories from
git version control.</p>
<p><strong>WARNING</strong>: The <code><a href="../reference/clean_structure.html">clean_structure()</a></code> function
will delete all directories listed under the
<code>clean_before_new_analysis</code> entry.</p>
</div>
<div class="section level3">
<h3 id="section-defaultdb">Section defaultdb:<a class="anchor" aria-label="anchor" href="#section-defaultdb"></a>
</h3>
<p>This section defines the arguments needed to create a connection with
a database using the <code>DBI</code> system. Multiple connections can
be defined under new entries. The <code><a href="../reference/get_con.html">get_con()</a></code> function
establishes a connection based on the information in the config.yml
file. Refer to the <a href="https://johnaponte.github.io/repana/articles/database.html">Database
configuration</a> Vignette for detailed instructions on setting up and
using database connections.</p>
</div>
<div class="section level3">
<h3 id="section-template">Section template:<a class="anchor" aria-label="anchor" href="#section-template"></a>
</h3>
<p>If using the RStudio IDE, the package installs an addin named “Repana
insert template,” which inserts a default template for program
documentation. This default template can be modified, and if a different
file is used, the template section informs the system of its location.
See the <a href="https://johnaponte.github.io/repana/articles/template.html">Modifying
the template</a> on how to use and modify the template.</p>
</div>
</div>
<div class="section level2">
<h2 id="workflow">Workflow<a class="anchor" aria-label="anchor" href="#workflow"></a>
</h2>
<p>A workflow using GitHub and repana in RStudio would be</p>
<ol style="list-style-type: decimal">
<li><p>Create the project in GitHub</p></li>
<li><p>Update the README.md file</p></li>
<li><p>Copy the URL link of the project</p></li>
<li><p>In RStudio, create a new project from “Version Control”, Select
Git and fill in the URL link of the project and the location</p></li>
<li><p>Once the project is created, run
<code><a href="../reference/make_structure.html">repana::make_structure()</a></code> function</p></li>
</ol>
<p>Your new project is ready.</p>
<ol start="6" style="list-style-type: decimal">
<li><p>Share the config.yml file to your collaborators so they can adapt
to local conditions. The config.yml is included in .gitignore and not
uploaded to GitHub to allow each collaborator to have its own
definition.</p></li>
<li><p>Update the project and create new programs
(e.g. <code>01_xxx</code>, <code>02_xxx</code>, etc.)</p></li>
<li><p>Run the project programs using
<code><a href="../reference/master.html">repana::master()</a></code></p></li>
</ol>
<p><strong>WARNING</strong> by default, the <code>_data</code> directory
is not include in the .gitignore file. Consider to include it if the
<code>_data</code> directory contains sensitive information that should
not be uploaded to GitHub. This directory could be shared between
collaborators using a different method.</p>
<p>For more information, see the <a href="https://johnaponte.github.io/repana/">Repana
Documentation</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by John J. Aponte.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
